import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseModalities: [
  ],
  responseMimeType: "application/json",
};

 export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with each day like day: day1, placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating,Travel time, Exact Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a JSON formatted travel plan for a 3-day budget-friendly trip to Las Vegas for a couple.  I've focused on free or low-cost attractions and dining options to keep costs down.  Remember that prices can fluctuate, so double-check before you go!\n\njson\n{\n  \"tripName\": \"Las Vegas Budget Getaway (3 Days)\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Cheap\",\n  \"dates\": \"Flexible (adjust dates accordingly)\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $70 per night (depending on dates and availability)\",\n      \"hotelImageUrl\": \"https://www.vegas.com/wp-content/uploads/2021/03/circus-circus-hotel-casino-las-vegas-strip-exterior.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1265,\n        \"longitude\": -115.1645\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with affordable rooms, a circus theme, and the Adventuredome indoor theme park (tickets extra). Great for families and budget travelers. Note: Can be a bit dated.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $80 per night (depending on dates and availability)\",\n      \"hotelImageUrl\": \"https://www.vegas.com/wp-content/uploads/2021/03/excalibur-hotel-casino-las-vegas-strip-exterior.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0958,\n        \"longitude\": -115.1740\n      },\n      \"rating\": 3.7,\n      \"description\": \"Medieval-themed hotel at the south end of the Strip. Offers affordable rooms, a variety of dining options, and entertainment.  Convenient location near other major attractions.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$40 - $90 per night (depending on dates and availability)\",\n      \"hotelImageUrl\": \"https://www.vegas.com/wp-content/uploads/2021/03/the-strat-hotel-casino-sky-pod-las-vegas-strip-exterior.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1471,\n        \"longitude\": -115.1555\n      },\n      \"rating\": 3.6,\n      \"description\": \"Located at the north end of the Strip, offers amazing views from the Stratosphere Tower (observation deck tickets extra). Rooms are generally affordable. Note: A bit further from the central Strip action.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Take the quintessential Vegas photo!  A must-do for any visitor.\",\n          \"placeImageUrl\": \"https://www.lasvegasadvisor.com/wp-content/uploads/2017/01/sign4.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0455,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"travelTime\": \"Varies depending on hotel location (15-30 minutes from the Strip).\",\n          \"exactTime\": \"9:00 AM\",\n          \"bestTimeToVisit\": \"Early morning (less crowded) or evening (for the lit-up sign).\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A stunning free attraction with elaborate floral displays that change seasonally.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-chinese-new-year-2022-header.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1762\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"travelTime\": \"5-10 minutes (walking) from the central Strip.\",\n          \"exactTime\": \"11:00 AM\",\n          \"bestTimeToVisit\": \"Mid-morning or early afternoon.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains Show\",\n          \"placeDetails\": \"A spectacular free water show set to music.  Runs every 30 minutes during the day and every 15 minutes in the evening.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2021/03/bellagio-hotel-casino-fountains-night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1125,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"travelTime\": \"Located directly outside the Bellagio.\",\n          \"exactTime\": \"1:00 PM\",\n          \"bestTimeToVisit\": \"Anytime during show hours. Evening shows are particularly impressive.\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional - Consider Happy Hour)\",\n          \"placeDetails\": \"Offers panoramic views of the Las Vegas Strip and surrounding area.  Consider going during happy hour (5 PM - 7 PM) for discounted drinks in the cabin.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/onrc/property/thelinqpromenade/things-to-do/high-roller/the-linq-promenade-high-roller-daytime.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1157,\n            \"longitude\": -115.1691\n          },\n          \"ticketPricing\": \"$25 - $37 (daytime), $37 - $52 (nighttime) - Check for discounts online.\",\n          \"rating\": 4.3,\n          \"travelTime\": \"10-15 minutes walking from the Bellagio.\",\n          \"exactTime\": \"5:00 PM\",\n          \"bestTimeToVisit\": \"Sunset for stunning views, or during happy hour (5 PM - 7 PM) for discounted drinks.\"\n        },\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A vibrant pedestrian mall with a massive LED canopy displaying light shows and live music.  Free to enter.\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/04/DVL_0352.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free (some attractions within Fremont Street may have separate fees).\",\n          \"rating\": 4.6,\n          \"travelTime\": \"Taxi or rideshare from the Strip (20-30 minutes) or take the Deuce bus.\",\n          \"exactTime\": \"8:00 PM\",\n          \"bestTimeToVisit\": \"Evening, after dark, for the Viva Vision light show (shows every hour).\",\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"activities\": [\n        {\n          \"placeName\": \"Seven Magic Mountains\",\n          \"placeDetails\": \"Public art installation of colorful stacked boulders by Swiss artist Ugo Rondinone. Great for photos.\",\n          \"placeImageUrl\": \"https://sevenmagicmountains.com/wp-content/uploads/2021/09/7MM_1920x1080.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 35.9669,\n            \"longitude\": -115.1917\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.3,\n          \"travelTime\": \"20-30 minute drive from the Strip (rental car or rideshare recommended).\",\n          \"exactTime\": \"10:00 AM\",\n          \"bestTimeToVisit\": \"Mornings are cooler and less crowded. Bring water, especially in warmer months.\",\n          \"note\": \"No restrooms or facilities on site. Plan accordingly.\"\n        },\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"Marvel at the engineering marvel of the Hoover Dam. Take a tour or simply walk across the top for stunning views.\",\n          \"placeImageUrl\": \"https://www.usbr.gov/lc/hooverdam/images/HDR_1710_B.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0162,\n            \"longitude\": -114.7372\n          },\n          \"ticketPricing\": \"Free to walk across the dam. Tours are extra ($15-$30). Parking is $10.\",\n          \"rating\": 4.6,\n          \"travelTime\": \"45-minute drive from the Strip.\",\n          \"exactTime\": \"1:00 PM\",\n          \"bestTimeToVisit\": \"During the day.\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and beautiful botanical cactus garden.\",\n          \"placeImageUrl\": \"https://ethelm.com/cdn/shop/files/EMCF-Factory-Facade-Sunset_2048x.jpg?v=1687992642\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0273,\n            \"longitude\": -115.0716\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.4,\n          \"travelTime\": \"15-20 minute drive from the Strip.\",\n          \"exactTime\": \"4:00 PM\",\n          \"bestTimeToVisit\": \"Afternoons are good, especially for the cactus garden when the sun isn't too intense.\"\n        },\n        {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"A free fiery eruption show in front of The Mirage hotel.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2021/03/mirage-hotel-casino-volcano.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1203,\n            \"longitude\": -115.1753\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"travelTime\": \"Located directly in front of the Mirage.\",\n          \"exactTime\": \"8:00 PM\",\n          \"bestTimeToVisit\": \"Evenings (shows run periodically after dark).\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3\",\n      \"activities\": [\n        {\n          \"placeName\": \"LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/onrc/property/thelinqpromenade/things-to-do/the-linq-promenade-street.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1161,\n            \"longitude\": -115.1704\n          },\n          \"ticketPricing\": \"Free to enter; individual attractions and restaurants have separate prices.\",\n          \"rating\": 4.2,\n          \"travelTime\": \"Centrally located on the Strip.\",\n          \"exactTime\": \"10:00 AM\",\n          \"bestTimeToVisit\": \"Late morning or early afternoon for browsing and lunch.\"\n        },\n        {\n          \"placeName\": \"Explore Hotel Themes (Free)\",\n          \"placeDetails\": \"Wander through themed hotels like the Venetian (canals and gondolas), Paris Las Vegas (Eiffel Tower), and New York-New York (roller coaster). Free to explore the public areas.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5b59a866a005507251ddf8d7/16:9/w_2560%2Cc_limit/Venetian_LasVegas_GettyImages-611493838.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1170,\n            \"longitude\": -115.1740\n          },\n          \"ticketPricing\": \"Free (except for specific attractions like gondola rides or Eiffel Tower admission).\",\n          \"rating\": 4.5,\n          \"travelTime\": \"Walk the Strip to explore different hotels.\",\n          \"exactTime\": \"1:00 PM\",\n          \"bestTimeToVisit\": \"Anytime during the day.\"\n        },\n        {\n          \"placeName\": \"M&M's World / Coca-Cola Store\",\n          \"placeDetails\": \"Fun, colorful, and free to browse. Unique photo opportunities and souvenirs.\",\n          \"placeImageUrl\": \"https://i.ytimg.com/vi/F-E4v9cR8zU/maxresdefault.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1116,\n            \"longitude\": -115.1719\n          },\n          \"ticketPricing\": \"Free to enter; souvenirs and candies for purchase.\",\n          \"rating\": 4.0,\n          \"travelTime\": \"Located near the Park MGM on the Strip.\",\n          \"exactTime\": \"3:00 PM\",\n          \"bestTimeToVisit\": \"Afternoon.\"\n        },\n        {\n          \"placeName\": \"People Watching on the Strip\",\n          \"placeDetails\": \"Find a bench and enjoy the spectacle of Las Vegas.  It's free entertainment!\",\n          \"placeImageUrl\": \"https://images.squarespace-cdn.com/content/v1/5d8d65693d57a50001e5b35b/1616967882098-F36K83K93S54J421N10A/las-vegas-strip.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"travelTime\": \"Anywhere on the Strip.\",\n          \"exactTime\": \"5:00 PM\",\n          \"bestTimeToVisit\": \"Anytime, but evenings are especially lively.\"\n        },\n        {\n          \"placeName\": \"Departure\",\n          \"placeDetails\": \"Head to the airport for your flight home.\",\n          \"placeImageUrl\": null,\n          \"geoCoordinates\": null,\n          \"ticketPricing\": \"N/A\",\n          \"rating\": null,\n          \"travelTime\": \"Varies depending on airport transportation (taxi, rideshare, bus).\",\n          \"exactTime\": \"7:00 PM\",\n          \"bestTimeToVisit\": \"N/A\"\n        }\n      ]\n    }\n  ],\n  \"budgetTips\": [\n    \"Take advantage of free attractions and shows.\",\n    \"Eat at affordable restaurants or grab quick bites (fast food, food courts).\",\n    \"Consider purchasing a day pass for the Deuce bus for transportation on the Strip.\",\n    \"Look for happy hour specials for discounted drinks and appetizers.\",\n    \"Bring your own water to stay hydrated (it's hot!).\",\n    \"Avoid gambling excessively.\",\n    \"Compare prices for shows and attractions online before purchasing tickets.\",\n    \"Walk as much as possible to save on transportation costs.\"\n  ]\n}\n\n\n*Important Notes:\n\n   *Prices are estimates:* Hotel and attraction prices can vary significantly depending on the time of year, day of the week, and availability. Always check current prices before booking.\n*   *Transportation:*  Consider the Deuce bus for affordable transportation up and down the Strip.  Walking is also a great option if you're able to handle the distances.\n*   *Reservations:* While not always necessary for free attractions, consider making reservations for restaurants, especially for dinner, to ensure you get a table and potentially find deals.\n*   *Discounts:* Look for online discounts and coupons for shows, attractions, and restaurants.\n*   *Flexibility:* This is just a suggested itinerary. Feel free to adjust it to your interests and preferences.\n*   *Safety:* Be aware of your surroundings, especially at night.\n*   *Hydration:* Drink plenty of water, especially in the desert heat.\n*   *Gratuities:* Remember to factor in tips for service staff at restaurants, bars, and in taxis/rideshares.\n\nEnjoy your trip to Las Vegas!\n"},
        ],
      },
    ],
  });

 
  